<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Custom Multi-Size PNG & Base64 Icon Generator</title>
<meta name="viewport" content="width=device-width,initial-scale=1"/>

<!-- JSZip for real ZIP download -->
<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

<style>
:root{
  --bg:#f6f9ff; --card:#fff; --accent:#007bff; --muted:#6c757d;
}
body{
  margin:0; font-family:Inter,system-ui,Arial;
  background:var(--bg); color:#111;
}
.wrap{ max-width:1100px; margin:32px auto; padding:18px; }
.card{
  background:var(--card); padding:18px;
  border-radius:14px;
  box-shadow:0 6px 24px rgba(20,20,60,0.08);
}
h1{ margin:0 0 6px; color:var(--accent); font-size:22px; }
p.lead{ margin:6px 0 18px; color:var(--muted); }

.row{ display:flex; gap:18px; flex-wrap:wrap; }
.col{ flex:1 1 320px; min-width:280px; }

label.btn-upload{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 16px;
  background:linear-gradient(90deg,#fff,#f4fbff);
  border:1px dashed #cfe8ff;
  border-radius:10px; cursor:pointer;
  color:var(--accent);
}
input[type=file]{ display:none; }

.preview{
  max-width:240px; max-height:240px;
  border-radius:12px;
  margin-top:14px;
  border:1px solid #eee;
  display:none;
}

.notice{
  margin-top:12px; padding:10px;
  background:#fff4e6; border-radius:8px;
  color:#7a4b00; font-size:13px;
}

input, textarea{
  width:100%; padding:8px;
  border-radius:8px;
  border:1px solid #ddd;
}

button{
  background:var(--accent); color:#fff;
  border:0; padding:10px 14px;
  border-radius:10px; cursor:pointer;
}
button.alt{ background:#28a745; }

.controls{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }

.outputs{ margin-top:18px; display:none; flex-direction:column; gap:14px; }

.icon-item{
  display:flex; gap:14px; align-items:center;
  background:#f8fbff; padding:12px;
  border-radius:10px;
}
.icon-item canvas{
  border:1px solid #dbeafe;
  border-radius:8px;
  background:white;
}

textarea{
  max-height: fit-content;
  background:#001; color:#0f0;
  padding:8px; border-radius:6px;
  font-size:12px;
}

footer{
  text-align:center; margin-top:18px;
  color:var(--muted); font-size:13px;
}

@media(max-width:720px){
  .icon-item{ flex-direction:column; }
}
</style>
</head>
<script src="/Quizzone/Global/loader.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/MITLicense-Term-of-Use--Privacy.min.js"></script>
<script src="https://akshat-881236.github.io/sitemapjs/breadcrumb.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/redirect.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/akshatnetworkhub.min.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/tracker.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/trackermeta.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/ui.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/index.js"></script>
<script src="https://akshat-881236.github.io/TrackerJS/akshat-add-nav.js"></script>
<body onload="pushData()">
<div class="wrap">
  <div class="card">

    <h1>Custom Multi-Size PNG & Base64 Icon Generator</h1>
    <p class="lead">
      Upload one logo and generate <b>multiple PNG icons at once</b>
      in any size you need. All processing happens locally.
    </p>

    <div class="row">
      <div class="col">
        <label class="btn-upload">
          <input id="fileInput" type="file" accept="image/*">
          üìÅ Upload Logo
        </label>
        <div id="fileInfo" class="notice">No file selected</div>
        <img id="preview" class="preview">
      </div>

      <div class="col">
        <label><b>Output Base Name</b></label>
        <input id="baseName" value="icon">

        <label style="margin-top:12px;">
          <b>Icon Sizes (comma-separated)</b>
        </label>
        <textarea id="sizes" rows="3">16,32,48,64,96,128,192,256,384,512</textarea>

        <div class="controls">
          <button id="generate">Generate Icons</button>
          <button id="downloadZip" class="alt" disabled>Download All (ZIP)</button>
          <button id="downloadB64" disabled>Download Base64 (.txt)</button>
        </div>
      </div>
    </div>

    <div id="outputs" class="outputs"></div>

    <footer>Frontend-only ‚Ä¢ No upload ‚Ä¢ No backend</footer>
  </div>
</div>

<script>
const fileInput = document.getElementById('fileInput');
const preview = document.getElementById('preview');
const fileInfo = document.getElementById('fileInfo');
const baseName = document.getElementById('baseName');
const sizesInput = document.getElementById('sizes');
const outputs = document.getElementById('outputs');
const downloadZipBtn = document.getElementById('downloadZip');
const downloadB64Btn = document.getElementById('downloadB64');

let imgObj = null;
let generated = [];

fileInput.onchange = e=>{
  const f = e.target.files[0];
  if(!f) return;
  fileInfo.textContent = `${f.name} ‚Ä¢ ${Math.round(f.size/1024)} KB`;
  const url = URL.createObjectURL(f);
  preview.src = url;
  preview.style.display = 'block';
  const img = new Image();
  img.onload = ()=> imgObj = img;
  img.src = url;
};

function drawFit(ctx,img,size){
  const r = Math.min(size/img.width, size/img.height);
  const w = img.width*r, h = img.height*r;
  ctx.clearRect(0,0,size,size);
  ctx.drawImage(img,(size-w)/2,(size-h)/2,w,h);
}

document.getElementById('generate').onclick = ()=>{
  if(!imgObj) return alert('Upload an image first');

  outputs.innerHTML = '';
  generated = [];

  const sizes = sizesInput.value
    .split(',')
    .map(s=>parseInt(s.trim()))
    .filter(s=>s>0);

  sizes.forEach(size=>{
    const canvas = document.createElement('canvas');
    canvas.width = canvas.height = size;
    const ctx = canvas.getContext('2d');
    drawFit(ctx,imgObj,size);

    const dataURL = canvas.toDataURL('image/png');

    const item = document.createElement('div');
    item.className = 'icon-item';
    item.innerHTML = `
      <canvas width="${size}" height="${size}"></canvas>
      <div style="flex:1">
        <b>${baseName.value}-${size}.png</b>
        <div style="margin-top:6px;">
          <button>Download PNG</button>
          <button>Copy Base64</button>
        </div>
        <textarea>${dataURL}</textarea>
      </div>
    `;

    const viewCanvas = item.querySelector('canvas');
    viewCanvas.getContext('2d').drawImage(canvas,0,0);

    item.querySelectorAll('button')[0].onclick = ()=>{
      canvas.toBlob(b=>{
        const a=document.createElement('a');
        a.href=URL.createObjectURL(b);
        a.download=`${baseName.value}-${size}.png`;
        a.click();
      });
    };

    item.querySelectorAll('button')[1].onclick = ()=>{
      navigator.clipboard.writeText(dataURL);
    };

    outputs.appendChild(item);
    generated.push({ size, dataURL, canvas });
  });

  outputs.style.display = 'flex';
  downloadZipBtn.disabled = false;
  downloadB64Btn.disabled = false;
};

downloadZipBtn.onclick = ()=>{
  const zip = new JSZip();
  generated.forEach(g=>{
    zip.file(
      `${baseName.value}-${g.size}.png`,
      g.dataURL.split(',')[1],
      { base64:true }
    );
  });
  zip.generateAsync({type:'blob'}).then(b=>{
    const a=document.createElement('a');
    a.href=URL.createObjectURL(b);
    a.download='icons.zip';
    a.click();
  });
};

downloadB64Btn.onclick = ()=>{
  let txt = '';
  generated.forEach(g=>{
    txt += `${baseName.value}-${g.size}.png\n${g.dataURL}\n\n`;
  });
  const b = new Blob([txt],{type:'text/plain'});
  const a = document.createElement('a');
  a.href=URL.createObjectURL(b);
  a.download='icons-base64.txt';
  a.click();
};
</script>
</body>
</html>